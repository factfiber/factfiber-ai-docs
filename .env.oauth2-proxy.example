# OAuth2-Proxy Environment Configuration for FactFiber.ai Docs
# Copy this file to .env.oauth2-proxy and fill in your values

# ==========================================
# GitHub OAuth Application Configuration
# ==========================================
# Create a GitHub OAuth App at: https://github.com/settings/applications/new
# Set Authorization callback URL to: http://localhost:4180/oauth2/callback

# GitHub OAuth Client ID (from your OAuth App)
GITHUB_OAUTH_CLIENT_ID="your_github_oauth_client_id_here"

# GitHub OAuth Client Secret (from your OAuth App)
GITHUB_OAUTH_CLIENT_SECRET="your_github_oauth_client_secret_here"

# ==========================================
# OAuth2-Proxy Configuration
# ==========================================
# Generate with: openssl rand -base64 32
OAUTH2_PROXY_COOKIE_SECRET="your_32_byte_base64_encoded_secret_here"

# ==========================================
# GitHub Configuration
# ==========================================
# Your GitHub organization name
GITHUB_ORG="factfiber-ai"

# GitHub Personal Access Token (for API access)
# Create at: https://github.com/settings/tokens
# Required scopes: repo, read:org, user:email
GITHUB_TOKEN="ghp_your_github_personal_access_token_here"

# ==========================================
# JWT Configuration (for fallback auth)
# ==========================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY="your_jwt_secret_key_for_fallback_auth"

# ==========================================
# Development Settings
# ==========================================
# Set to "true" for development, "false" for production
DEBUG_MODE="true"

# ==========================================
# Optional Team Restrictions
# ==========================================
# Uncomment to restrict access to specific teams
# OAUTH2_PROXY_GITHUB_TEAM="docs-team"
# OAUTH2_PROXY_GITHUB_TEAM="platform-team"

# ==========================================
# Production Settings (uncomment for production)
# ==========================================
# OAUTH2_PROXY_COOKIE_SECURE="true"
# OAUTH2_PROXY_FORCE_HTTPS="true"
# OAUTH2_PROXY_SESSION_STORE_TYPE="redis"
# OAUTH2_PROXY_REDIS_CONNECTION_URL="redis://redis:6379"

# ==========================================
# Custom Domain Configuration (for production)
# ==========================================
# OAUTH2_PROXY_COOKIE_DOMAINS=".yourdomain.com"
# OAUTH2_PROXY_WHITELIST_DOMAINS="yourdomain.com"

# ==========================================
# Logging Configuration
# ==========================================
OAUTH2_PROXY_LOG_LEVEL="info"
OAUTH2_PROXY_LOG_FORMAT="json"

# ==========================================
# CORS Configuration
# ==========================================
# Add your frontend domains here
SERVER_CORS_ORIGINS='["http://localhost:4180", "http://localhost:3000", "https://yourdomain.com"]'

# ==========================================
# Repository-Specific Settings
# ==========================================
# Default repository access permission level
DEFAULT_REPO_PERMISSION="read"

# Cache TTL for GitHub API calls (in minutes)
GITHUB_API_CACHE_TTL="10"

# ==========================================
# Monitoring and Metrics
# ==========================================
# Enable metrics endpoint
OAUTH2_PROXY_METRICS_ADDRESS="0.0.0.0:8080"

# ==========================================
# Custom Branding (optional)
# ==========================================
OAUTH2_PROXY_BANNER="FactFiber.ai Documentation Access"
OAUTH2_PROXY_FOOTER="Powered by OAuth2-Proxy"

# ==========================================
# Example URLs for Reference
# ==========================================
# OAuth2-Proxy will be available at: http://localhost:4180
# Direct API access (development): http://localhost:8000
# Metrics endpoint: http://localhost:8080/metrics
# OAuth callback URL: http://localhost:4180/oauth2/callback
